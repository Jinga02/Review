# 원시값과 객체의 비교

## 원시 값이란?

원시 타입의 값, 즉 원시 값이란 변경 불가능한 값을 말한다. 이러한 원시 값을 변수에 할당하면 변수(확보된 메모리 공간)에는 실제 값이 저장된다.
만약 원시 값을 갖는 변수를 다른 변수에 할당하면 원본의 원시 값이 복사되어 전달된다.
이를 값에 의한 전달이라 한다.

## 불변성(Immutability)과 값에 의한 전달

불변성은 데이터의 변경을 피하고, 기존 데이터를 직접 수정하지 않고 새로운 데이터를 생성하는 개념을 말한다. 즉, 한 번 생성된 데이터는 그 값을 변경할 수 없는 것을 의미한다. 이는 원본 데이터의 보호와 예측 가능한 동작을 유지하는 데 중요한 역할을 한다.

![](https://velog.velcdn.com/images/kozel/post/cc145311-1de6-4fd8-a454-fea3762605c2/image.jpeg)
변경 불가능 하다는 것은 값에 대한 진술이지 변수에 대한 진술은 아니다. 그렇기때문에 원시 값을 가지던 변수의 값을 변경하기 위해 원시 값을 재할당하면 위 그림처럼 새로운 메모리 공간을 확보하고 재할당한 값을 저장한 후, 변수가 참조하던 메모리 공간의 주소를 변경한다.

### 예시 코드

```jsx
var score = 80;

// copy 변수에는 score 변수의 값 80이 복사되어 할당된다.

var copy = score;

console.log(score, copy); // 80 80
console.log(score === copy); // true

// score 변수와 copy 변수의 값은 다른 메모리 공간에 저장된 별개의 값이다.
// 따라서 score 변수의 값을 변경해도 copy 변수의 값에는 어떠한 영향도 주지 않는다.

score = 100;

console.log(score, copy); // 100 80
console.log(score === copy); // false
```

위 예시 코드에서 확인할 수 있듯이 scopre변수와 copy 변수의 값 80은 다른 메모리 공간에 저장된 별개의 값이다. 그렇기 대문에 score 변수의 값을 변경해도 copy 변수의 값에는 어떠한 영향도 주지 않는다.
"값의 의한 전달"이라는 표현이 헷갈릴 수 있다. 값을 전달하니까 메모리 주소에 저장된 값 자체를 전달한다고 오해할 수 있지만 그렇지 않다. 변수와 같은 식별자는 값이 아니라 메모리 주소를 기억하고 있기 때문에, 변수에는 값이 전달되는 것이 아니라 메모리 주소가 전달된다. 이처럼 "값의 의한 전달"도 사실은 값을 전달하는 것이 아니라 메모리 주소를 전달한다. 단, 전달된 메모리 주소를 통해 메모리 공간에 접근하면 값을 참조할 수 있다.

## 객체란?

객체는 객체 타입의 값, 즉 변경 가능한 값이다.
객체를 할당한 변수가 기억하는 메모르 주소를 통해 메모리 공간에 접근하면 참조 값에 접근할 수 잇다. 참조 값은 생성된 객체가 저장된 메모리 공간의 주소, 그 자체다. 따라서 객체를 할당한 변수는 재할당 없이 객체를 직접 변경할 수 있다. 즉 재할당 없이 프로퍼티를 동적으로 추가할 수도 있고 프로퍼티 값을 갱신할 수도 있으며 프로퍼티 자체를 삭제할 수도 있다.

## 얕은복사와 깊은 복사

### 1. 얕은 복사

```js
const a = "a";
let b = "b";

b = "c";

console.log(a); // 'a';
console.log(b); // 'c';

// 기존 값에 영향을 끼치지 않는다.
```

참조값을 복사할 때는 변수가 객체의 참조를 가리키고 있기 때문에 복사된 변수 또한 객체가 저장된 메모리 공간의 참조를 가리키고 있다. 그래서 복사를 하고 객체를 수정하면 두 변수는 똑같은 참조를 가리키고 있기 때문에 기존 객체를 저장한 변수에 영향을 끼친다. 이처럼 객체의 참조값(주소값)을 복사하는 것을 얕은 복사라고 한다.

### 2. 깊은 복사

```js
const a = {
  one: 1,
  two: 2,
};
let b = a;

b.one = 3;

console.log(a); // { one: 3, two: 2 } 출력
console.log(b); // { one: 3, two: 2 } 출력

// 기존 값에 영향을 끼친다.
```

원시값을 복사할 때 그 값은 또 다른 독립적인 메모리 공간에 할당하기 때문에, 복사를 하고 값을 수정해도 기존 원시값을 저장한 변수에는 영향을 끼치지 않는다. 이처럼 실제 값을 복사하는 것을 깊은 복사라고 합니다. 하지만 이것은 자료형을 깊은 복사한 것이다.

## 참조에 의한 전달

![](https://velog.velcdn.com/images/iseethefuture/post/31e8f5ab-0250-4d15-be53-c9fc9f81b95b/image.jpg)

객체를 가리키는 변수(원본)를 다른 변수(사본)에 할당하면 원본의 참조 값이 복사되어 잔달된다. 이를 참조에 의한 전달이라 한다.
