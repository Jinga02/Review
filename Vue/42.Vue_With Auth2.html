<img src="https://user-images.githubusercontent.com/110621233/231062359-1b7d42fd-45a2-4605-8034-c342d05d5a9d.png"></img>
><!DOCTYPE html>
<html lang="en">
<head>
</head>
<body>
    <h2>DRF Auth with Vue</h2>
    <ul>
        <h3>SignUp Page</h3>
        <ul>
          <li>views/SignUpView.vue 작성</li>
            <ul>
              <li>Server에서 정의한 field명 확인</li>
              <li>username, password1, passowrd2</li>
            </ul>
          <img src="https://github.com/Jinga02/Review/assets/110621233/4b92deaf-484a-4c6a-9f74-9e9e0c0f8c12" alt="SignUpView1">
          <li>router/index.js 작성</li>
          <img src="https://github.com/Jinga02/Review/assets/110621233/dca530e5-6aae-41bf-a7bd-8dc71b063585" alt="SignUpView2">
          <li>src/App.vue router-link 작성</li>
          <img src="https://github.com/Jinga02/Review/assets/110621233/bf5921fa-5754-4ed9-8ce5-b64d7a45ce8e" alt="SignUpView3">
        </ul>
        <h3>SignUp 기능구현</h3>
        <ul>
          <li>회원가입 완료 시 응답 받을 정보 Token을 store에서 관리할 수 있도록 actions를 활용하여 요청 후, state에 저장할 로직 작성</li>
          <li>다양한 컴포넌트에서 쉽게 접근 할 수 있도록 중앙 상태 저장소인 vuex에서 관리하도록</li>
          <li>views/SignUpView.vue 코드 작성</li>
          <img src="https://github.com/Jinga02/Review/assets/110621233/1c0c05e1-f0de-4696-8690-f6948a0bf17a" alt="SignUpView4">
          <li>store/index.js actions작성</li>
          <img src="https://github.com/Jinga02/Review/assets/110621233/e4aea476-8f93-4ebf-a920-1dc469fc4935" alt="SignUpView5">
          <li>store/index.js mutations작성</li>
          <img src="https://github.com/Jinga02/Review/assets/110621233/6dff9b73-d037-49b3-9f78-39034456c6d4" alt="SignUpView6">
          <li>요청 결과 확인/ 정상 응답 확인</li>
          <img src="https://github.com/Jinga02/Review/assets/110621233/015068d7-2426-44d9-826b-c8d846137de2" alt="SignUpView7">
        </ul>
        <h3>토큰 관리</h3>
        <ul>
          <li>게시물 전체 조회와 달리, 인증 요청의 응답으로 받은 Token은 매번 요청하기 힘들다.</li>
          <li>localStorage에 token저장을 위해 vuex-persistedstate 활용</li>
          <li>터미널 설치 : npm install vuex-persistedstate</li>
          <li>store/index.js 작성</li>
          <img src="https://github.com/Jinga02/Review/assets/110621233/fa46d3a5-bcb2-4844-9db6-fd2f0bf0f27a" alt="localStorage">
          <li>User 인증 정보를 localStorage에 저장하는 것은 보안상 좋은 방법은 아니기 때문에 2가지 방법을 제공한다.</li>
          <ol>
            <li>쿠키를 사용하여 관리</li>
            <li>로컬 저장소를 난독화 하여 관리</li>
          </ol>
        </ul>
        <h3>Login Page</h3>
        <ul>
          <li>view/LoginView.vue 작성</li>
          <ul>
            <li>회원가입 로직과 동일하게 진행하면 된다</li>
          </ul>
          <img src="https://github.com/Jinga02/Review/assets/110621233/fe542c70-3283-41ee-809e-cce07d8a6adc" alt="Login Page1">
          <li>router/index.js 작성</li>
          <img src="https://github.com/Jinga02/Review/assets/110621233/6fa623f7-fcc5-4318-9615-fb209a59c772" alt="Login Page2">
          <li>src/App.vue 작성</li>
          <img src="https://github.com/Jinga02/Review/assets/110621233/c5751f20-8a8b-4c55-8cab-e4d9695c49ae" alt="Login Page3">
        </ul>
        <h3>Login Page 기능 구현</h3>
        <ul>
          <li>views/LoginView.vue 작성</li>
          <img src="https://github.com/Jinga02/Review/assets/110621233/3a542ced-02e1-47ef-b546-637ab8633cba" alt="Login Page4">
          <li>store/index.js actions작성</li>
          <img src="https://github.com/Jinga02/Review/assets/110621233/8847a6f3-e1a4-40f7-9384-ba5aaf4e92bf" alt="Login Page5">
          <li>store/index.js mutations 작성</li>
          <img src="https://github.com/Jinga02/Review/assets/110621233/468c4a2c-8db1-457c-add5-e753ada325af" alt="Login Page6">
        </ul>
        <h3>isAuthenticated in Vue</h3>
        <ul>
          <li>회원가입, 로그인 요청에 대한 처리 후 state에 저장된 Token을 직접 확인하기 전까지 인증 여부 확인이 불가능하다.</li>
          <li>인증 되지 않았을 시 게시글 정보를 확인할 수 없으나 이유를 알 수 없다. 로그인 여부를 확인 할 수 있는 수단이 없기때문이다.</li>
          <li>로그인시 게시글을 볼 수 있게 만들예정이다.</li>
          <h3>isAuthenticated 기능 구현</h3>
          <ul>
            <li>store.index.js 작성 / Token이 있으면 true 없으면 false 반환으로 로그인 여부 판별</li>
            <img src="https://github.com/Jinga02/Review/assets/110621233/3afe7090-0276-4090-a594-fea6feec817e" alt="isAuthenticated1">
            <li>views/ArticleView.vue 작성</li>
            <img src="https://github.com/Jinga02/Review/assets/110621233/18ae956e-c197-4eea-91d8-5e11f3789bb3" alt="isAuthenticated2">
            <li>store/index.js 작성</li>
            <ul>
              <li>store/index.js에서는 $router에 접근 할 수 없기때문에 import해줘야 한다.</li>
            </ul>
            <img src="https://github.com/Jinga02/Review/assets/110621233/4c4d432e-6941-43f5-b0a3-8ce0e7c3a763" alt="isAuthenticated3">
          </ul>
          <p>로그인은 했으나 Django에서는 로그인 한 것으로 인식하지 못한다. <br>
             발급 받은 token을 요청을 보내지 않았기 때문이다.
          </p>
        </ul>
    <h2>Request with Token</h2>
    <h3>Article List Read with Token</h3>
    <ul>
      <li>store/index.js 작성</li>
      <ul>
        <li>headers에 Authorizations와 token 추가</li>
        <img src="https://github.com/Jinga02/Review/assets/110621233/a8a7e369-e659-40a5-b6f2-0a86eec5cee5" alt="Article List Read with Token1">
      </ul>
    </ul>
    <h3>Article Create with Token</h3>
    <ul>
      <li>views/CreateView.vue 작성</li>
      <img src="https://github.com/Jinga02/Review/assets/110621233/8e12b75d-fd5d-4646-b604-03445b3a613c" alt="Article Create with Token1">
    </ul>
    <h3>Create Article with User</h3>
    <ul>
      <li>articles/models.py 작성</li>
      <ul>
        <li>게시글을 작성시 User정보를 포함하여 작성하도록 해야한다.</li>
        <li>Use정보를 Vue에서도 확인 가능하도록 정보를 제공한다.</li>
      </ul>
      <img src="https://github.com/Jinga02/Review/assets/110621233/b8cc0ac8-aaf1-46c3-9f39-21b18db3bf1f" alt="Create Article with User1">
      <li>models.py를 수정했으니, makemigrations 와 migrate 진행</li>
      <li>articles/serializers.py 작성</li>
      <ul>
        <li>ArticleListSerializer에서 user는 사용자가 작성하지 않기 때문에, fields에 추가해준다.</li>
        <li>ArticleSerializer에서 user는 읽기 전용이다.</li>
        <li>username을 확인 할 수 있도록 username field 정의를 해줘야한다.</li>
      </ul>
      <img src="https://github.com/Jinga02/Review/assets/110621233/22afaae6-d147-4267-bb22-bdc19cfe7f1b" alt="Create Article with User2">
      <li>articles/views.py 수정</li>
      <img src="https://github.com/Jinga02/Review/assets/110621233/50eb228e-fbe9-4dcd-bbcd-fe401592c709" alt="Create Article with User3">
      <li>components/ArticlesListItem.vue 작성</li>
      <img src="https://github.com/Jinga02/Review/assets/110621233/cf803887-1948-4396-a26e-b4a3d72bdc3a" alt="Create Article with User4">
      <li>결과 확인</li>
      <img src="https://github.com/Jinga02/Review/assets/110621233/969243dd-854d-45bc-8dc9-242ca2d302e1" alt="Create Article with User5">
    </ul>
        

    <h3>참고</h3>
    <a href=""></a>

<img src="https://user-images.githubusercontent.com/110621233/231062359-1b7d42fd-45a2-4605-8034-c342d05d5a9d.png"></img>

</body>
</html>