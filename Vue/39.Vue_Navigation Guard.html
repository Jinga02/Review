<img src="https://user-images.githubusercontent.com/110621233/231062359-1b7d42fd-45a2-4605-8034-c342d05d5a9d.png"></img>
><!DOCTYPE html>
<html lang="en">
<head>
  <style>
    img{
      width: 400px;
      height: 3000px;
    }
  </style>
</head>
<body>
    <h2>Navigation Guard</h2>
      <ul>
          <li>Vue router를 통해 특정 URL에 접근 할 때, 특정 조건을 검사하거나 인증을 수행하여 허용되지 않은 경로로의 접근을 막을 수 있다.</li>
          <li>네비게이션 가드는 컴포넌트 내부에서도 정의할 수 있으며, 이를 이용하여 특정 라우터에서의 접근 제어나 다른 동작을 수행할 수 있다.</li>
      </ul>
      <h2>전역 가드</h2>
      <ul>
        <li>다른 url주소로 이동할 때(모든 라우팅 전) 항상 실행되며, 네트워크 요청이나 사용자 인증 정보 등을 검사하여 해당 사용자가 액세스할 권한이 있는 페이지로만 이동하게 한다.</li>
        <li>애플리케이션의 전역에서 라우팅 네비게이션을 관리하는 방법 중 하나이며, router/index.js에 router.beforeEach() 메서드를 이용하여 전역 가드를 구현할 수 있다.</li>
        <li>
          <strong>to 객체:</strong> 이동하려는 URL 정보를 담고 있는 라우팅 객체
        </li>
        <li>
          <strong>from 객체:</strong> 이전 URL 정보를 담고 있는 라우팅 객체
        </li>
        <li>
          <strong>next 함수:</strong> 다음 라우팅 객체를 받아서 반드시 호출해야 한다. 
          만약 호출하지 않으면 다음 단계로 네비게이션을 진행하지 않는다.
        <h3>Global Before Guard 실습</h3>
        <ul>
          <li>/home으로 이동하더라도 라우팅이 되지 않고 아래와 같이 로그만 출력된다.</li>
          <img src="https://github.com/Jinga02/Vue/assets/110621233/fed2dbdd-e535-4255-9f8c-6ddb4eefbcfb" alt="global_before_guard_1">
          <img src="https://github.com/Jinga02/Vue/assets/110621233/35171d3b-94c4-4625-bc53-c5b6b605e1a1" alt="global_before_guard_1-1">
          <li>next()가 호출되어야 화면이 전환된다.</li>
          <img src="https://github.com/Jinga02/Vue/assets/110621233/ed0e61da-0370-4264-a42f-364a7ab3828b" alt="global_before_guard_2">
          <img src="https://github.com/Jinga02/Vue/assets/110621233/c5ebc45a-9dcc-4869-8a8a-547fc0c79951" alt="global_before_guard_2-1">
          <li>About으로 이동해보기</li>
          <ul>
            <li>to에는 이동 할 url인 about에 대한 정보가,</li>
            <li>from에는 현재 url인 home에 대한 정보가 들어있다.</li>
          </ul>
          <img src="https://github.com/Jinga02/Vue/assets/110621233/bd844391-3e56-4038-b4c0-a2940e885d87" alt="global_before_guard_3">
        </ul>
        <h3>Login 여부에 따른 라우팅 처리 실습</h3>
        <ul>
          <li>Login이 되어 있지 않다면 Login 페이지로 이동하는 기능 추가</li>
          <img src="https://github.com/Jinga02/Vue/assets/110621233/81ea3db5-28dc-44aa-83cc-57618aea200e" alt="로그인_초기페이지">
          <img src="https://github.com/Jinga02/Vue/assets/110621233/c3e06506-e418-49ca-88d2-6510a51c1845" alt="로그인_초기페이지2">
          <li>LoginView에 대한 라우터 링크 추가</li>
          <img src="https://github.com/Jinga02/Vue/assets/110621233/4fcde08f-5e34-4915-893e-42f13c4c116a" alt="로그인_라우터링크추가">
          <li>Login해야만 접근할 수 있도로</li>
          <img src="https://github.com/Jinga02/Vue/assets/110621233/6ce796e3-2c8d-4bc7-9f9d-ebee408add1c" alt="로그인해야만_1">
          <img src="https://github.com/Jinga02/Vue/assets/110621233/7c4dcf35-3021-4892-94da-998fb84de46f" alt="로그인해야만_2">
          <li>isLoggedIn이 true인 경우 결과</li>
          <ul>
            <li>/hello/harry에 해당하는 컴포넌트가 정상적으로 렌더링 된다.</li>
          </ul>
          <img src="https://github.com/Jinga02/Vue/assets/110621233/47cf5925-90fd-4834-8f58-dafab2583bd4" alt="로그인_결과1">
          <li>isLoggedIn이 false인 경우 결과</li>
          <ul>
            <li>/hello/harry에 해당하는 컴포넌트가 정상적으로 렌더링 되지 않고 Login 페이지로 이동된다.</li>
            <li>Logindㅡ로 이동했는데 console창에 log가 2개 찍히는 이유</li>
            <li>첫번째 출력은 /hello/harry로 접속 시도 후(전역 가드에 막힘) <br>
                전역 가드에서 login으로 이동 요청 할 때 출력</li>
            <li>두번째 출력은 /login으로 이동 요청 할 때 출력</li>
          </ul>
          <img src="https://github.com/Jinga02/Vue/assets/110621233/e045cc20-2a3f-418a-990b-215c8f881b05" alt="로그인_결과2">
        </ul>
      </ul>      
      <h2>라우터 가드</h2>
      <ul>
        <li>전체 route가 아닌 특정 route에 대해서만 가드를 설정하고 싶을 때 사용한다.</li>
        <h4>beforeEnter()</h4>
        <ul>
          <li>특정 라우팅에 접근하기 전에 실행되는 함수이다</li>
          <li>라우터를 등록한 위치에 추가한다. 단 매개변수, 쿼리, 해시 값이 변경될 때는 실행하지 않고 다른 경로에서 탐색할 때만 실행된다.</li>
          <li>콜백함수는 to, from, next를 인자로 받는다.</li>
        </ul>
        <h3>라우터 가드 실습</h3>
        <ul>
          <li>이미 로그인 되어있는 경우 HomeView로 이동하게 하기</li>
          <li>로그인 여부에 대한 임시 변수 생성</li>
          <img src="https://github.com/Jinga02/Vue/assets/110621233/79a145f5-a716-437e-9f36-517f87164f65" alt="라우터가드_로그인 임시변수 생성">
          <li>isLoggedIn = true인 경우(로그인 상태인 경우)</li>
          <ul>
            <li>/login으로 접속을 시도하면 Home으로 이동</li>
          </ul>
          <img src="https://github.com/Jinga02/Vue/assets/110621233/c3dfa383-d152-4c89-949f-937076cb6435" alt="라우터가드_결과">
          <li>Login을 제외한 다른 페이지로 이동하면 라우터 가드를 따로 설정해주지 않았기 때문에 라우터 가드가 동작하지 않는다.</li>
          <li>이렇게 특정 라우트만 따로 가드를 하고 싶은 경우에는 라우터 가드를 사용한다.</li>
        </ul>
      </ul>

      <h2>컴포넌트 가드</h2>
      <ul>
        <li>특정 컴포넌트 내에서 가드를 지정하고 싶을 때 사용한다.</li>
        <li>beforeRouteUpdate()</li>
        <ul>
          <li>해당 컴포넌트를 렌더링하는 경로가 변경될 때 실행</li>
        </ul>
        <h3>Params변화 감지</h3>
        <ul>
          <li>about에서 jun에게 인사하는 페이지로 이동</li>
          <img src="https://github.com/Jinga02/Vue/assets/110621233/e0459cb2-40af-418d-8c9d-e6565dfd16d6" alt="params변화감지1">
          <li>navbar에 있는 Hello를 눌러 harry에게 인사하는 페이지로 이동</li>
          <ul>
            <li>URL은 변하지만 페이지는 변화하지 않는다.</li>
          </ul>
          <img src="https://github.com/Jinga02/Vue/assets/110621233/1b0aa857-3631-4e10-9a2e-c66a917a5ef6" alt="params변화감지2">
          <li>변화하지 않는 이유</li>
          <ul>
            <li>컴포넌트가 재사용 되었기 때문이다.</li>
            <li>기존 컴포넌트를 지우고 새로 만드는 것보다 효율적이다.</li>
          </ul>
          <li>Params변화 감지 문제 해결</li>
          <ul>
            <li>beforeRouteUpdate()를 사용해서 처리 가능</li>
            <li>userName을 이동할 params에 있는 userName으로 재할당</li>
          </ul>
          <img src="https://github.com/Jinga02/Vue/assets/110621233/f84548cd-4df5-42c9-b7d8-d867ce427d26" alt="paramsq변화감지해결1">
        </ul> 
      </ul>
      <h2>404 NOT FOUND</h2>
        <h3>요청한 리소스가 존재하지 않는 경우</h3>
        <ul>
          <li>사용자가 요청한 리소스가 존재하지 않을 때 응답</li>
          <li>모든 경로에 대해서 404page로 redirect 시키기</li>
          <ul>
            <li>기존에 명시한 경로가 아닌 모든 경로가 404page로 redirect된다.</li>
            <li>이때, routesd에 최하단부에 작성해야 한다.</li>
          </ul>
          <img src="https://github.com/Jinga02/Vue/assets/110621233/6450b9a2-9429-4ebb-9b46-48ad64758554" alt="404-1">
          <img src="https://github.com/Jinga02/Vue/assets/110621233/a4b3402a-e680-4fa6-aef3-5028c0ee0ead" alt="404-2">
        </ul>
        <h3>형식은 유효하지만 특정 리소스를 찾을 수 없는 경우</h3>
        <ul>
          <li>예를들어, Django에게 articles/1/로 요청을 보냈지만, 1번 게시글이 삭제된 상태</li>
          <ul>
            <li>이때는 path: '*'를 만나 404page가 렌더링 되는 것이 아니라 기존에 명시한 articles/:id/에 대한 components가 렌더링된다.</li>
            <li>하지만 데이터가 존재하지 않기 때문에 정상적으로 렌더링이 되지 않는다.</li>
            <li>이러한 문제를 해결하기 위해서</li>
            <ol>
              <li>데이터가 없음을 명시해야한다.</li>
              <li>404page로 이동해야 한다.</li>
            </ol>
          </ul>
        </ul>

<img src="https://user-images.githubusercontent.com/110621233/231062359-1b7d42fd-45a2-4605-8034-c342d05d5a9d.png"></img>

</body>
</html>