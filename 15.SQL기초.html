<!DOCTYPE html>
<html lang="en">
<head>
</head>
<body>

  <h3>SQL Syntax</h3>

    <ul>
        <li>모든 SQL 문(statement)은 SELECT, INSERT와 같은 키워드로 시작하고,<br> 하나의 문(statement)은 세미콜론 ; 으로 끝난다.</li>
        <li>SQL 키워드는 대소문자를 구분하지 않는다. 하지만 대문자 권장</li>
        <li>문(statement)
            <ul>
                <li>문(statement)
                    <p>독립적으로 실행 할 수 있는 완전한 코드조각 <br>
                       문(statement)은 clause로 구성된다.</p>
                </li>
                <li>절(Clause)
                    <p>statement의 하위 단위</p>
                </li>
                <li>예시
                    <p>SELECT column_name <br>
                       FROM table_name;
                       위 전체를 SELECT '문'이라고 부른다. <br>
                       위의 SELECT문은 SELECT column_name과 FROM table_name 2개의 절로 구성 되어있다.
                    </p>
                </li>
            </ul>
        </li>
    </ul>
  
    <h3>SQL</h3>
    <p>데이터베이스 시스템에서 자료를 처리하는 용도로 사용되는 구조적 데이터 질의 언어</p>
    <ul>
        <h4><li>DDL(Data Definition Language)</h4>
            <p>관계형 데이터베이스 구조(테이블, 스키마)를 정의(생성, 수정 및 삭제)하기 위한 명령어</p>
            <p>SQL키워드 : CREATE, DROP, ALTER</p>
        </li>
        <h4><li>DML(Data Manipulation Language)</h4>
            <p>데이터를 조작(추가, 조회, 변경, 삭제)하기 위한 명령어</p>
            <p>SQL키워드 : INSERT, UPDATE, SELECT, DELETE</p>
        </li>
        <h4><li>DCL(Data Control Language)</h4>
            <p>데이터의 보안, 수행제어, 사용자 권한부여 등을 정의하기 위한 명령어</p>
            <p>SQL키워드 : GRANT, REVOKE, COMMIT, ROLLBACK</p>
        </li>
    </ul>

  <h3>DDL</h3>
    <ol><h4>CREAT TABLE</h4>
        <li>contacts 테이블 생성</li>
        <img src="https://user-images.githubusercontent.com/110621233/229967842-9d2279c3-d616-4181-bda1-9a4d24c54d68.png" alt="">
        <li>Query 실행하기</li>
        <img style="height: 400px;" src="https://user-images.githubusercontent.com/110621233/229967841-b0259cc8-c180-4d86-97e1-670bcb199331.png" alt="">
        <li>Query 확인</li>
        <img src="https://user-images.githubusercontent.com/110621233/229967837-3ad5ea49-8887-40b2-ad32-a550c20b17d7.png" alt="">
    </ol>
    <h4><ol>ALTRE TABLE</ol></h4>
    <ul><p>기존 테이블의 구조를 수정(변경)</p>
        <li>테이블명 수정하기
            <ol>
                <li>ALTER TABLE 테이블명 RENAME TO 새로운 테이블명;</li>
            </ol>
        </li>
        <li>컬럼명 수정하기
            <ol>
                <li>ALTER TABLE 테이블명 RENAME COLUMN 컬럼명 TO 새로운 컬럼명</li>
            </ol>
        </li>
        <li>테이블에 컬럼 추가하기
            <ol>
                <li>ALTER TABLE 테이블명 ADD COLUMN 새로운 컬럼</li>
            </ol>
        </li>
        <li>컬럼 삭제하기
            <ol>
                <li>ALTER TABLE 테이블명 DROP COLUMN 컬럼명</li>
                <p>삭제가 불가능 한 경우 <br>
                   1. 컬럼이 다른 부분에서 참조되는경우 <br>
                   2. 삭제하려는 컬럼이 기본키인 경우 <br>
                   3. UNIQUE 제약 조건이 있는 경우 <br>
                </p>
            </ol>
        </li>
        <li>테이블 삭제하기
            <ol>
                <li>DROP TABLE 테이블명</li>
                <p>한 번에 하나의 테이블만 삭제할 수 있다. <br>
                   DROP TABLE문은 실행 취소 또는 복구가 불가능하다.</p>
            </ol>
        </li>
    </ul>

  <h3>DML</h3>

    <ul>
        <ol><h4>DB파일 열기</h4>
            <li>db파일에 테이블 생성하기</li>
            <li>vscode => db파일이 있는 폴더 터미널 열기</li>
            <li>sqlite3 db이름.sqlite3</li>
            <li>모드를 csv로 설정 => .mode csv</li>
            <li>.import 명령어로 csv데이터 불러오기 => .import csv이름.csv 테이블명</li>
        </ol>

        <ol><h4>SELECT 절 : 컬럼을 지정해 조회 할 때 사용</h4>
            <p>
                SELECT 조회 할 컬럼명<br>
                FROM 테이블명
                <br><br>
                모든 컬럼을 조회하려면 *사용
            </p>
        </ol>

        <ol><h4>ORDER BY절 : 조회한 데이터를 정렬 할 때 사용</h4>
            <p>
                SELECT 컬럼명 <br>
                FROM 테이블명 <br>
                ORDER BY 컬럼명 ASC or DESC(오름차순, 내림차순)
                <br><br>
                ASC or DESC를 적지 않으면 ASC가 기본값으로 적용된다. <br>
                여러가지 순으로 정렬하고 싶으면 ORDER BY 뒤에 순서대로 컬럼명을 적어준다. <br>
                NULL은 다른 값보다 작은것으로 보고 정렬한다.
            </p>
        </ol>

        <ol><h4>Filtering data</h4>

            <h4><li><p>DISTINCT <br></h4>
                SELECT DISTINCT 컬럼명 <br>
                FROM 테이블명 <br><br>
                조회 결과에서 중복된 행을 제거해준다. <br>
            </p>
            </li>

            <h4><li><p>WHERE <br></h4>
                SELECT 컬럼명 <br>
                FROM 테이블명 <br>
                WHERE age = 20; (특정 조건) <br><br>
                조회 시 특정 검색 조건을 지정해준다.<br>
                여러 조건을 주고 싶을 경우 AND 나 OR을 추가해준다. <br>
                SELECT외에도 UPDATE와 DELETE에도 사용이 가능하다.
            </p>
            </li>

            <h4><li><p>LIKE <br></h4>
                SELECT 컬럼명 <br>
                FROM 테이블명 <br>
                WHERE name LIKE '%재%'; (이름에 재가 포함된 사람)<br><br>
                WHERE에 추가적인 조건을 지정해준다.<br>
                '재%' : 재로 시작하는 모든 데이터 <br>
                '%재' : 재로 끝나는 모든 데이터 <br>
                '%재%' : 재를 포함하는 모든 데이터 <br>
                '재_' : 재로 시작하는 길이가 2인 데이터 <br>
                '재____' : 재로 시작하는 길이가 5인 데이터 <br>
                '재_%_%orwo__%' : 재로 시작하고 최소 3자리인 패턴(3자리 이상) <br>
                SELECT외에도 UPDATE와 DELETE에도 사용이 가능하다.
            </p>
            </li>

            <h4><li><p>IN <br></h4>
                SELECT 컬럼명 <br>
                FROM 테이블명 <br>
                WHERE 컬럼명 IN ('값', '값2'); <br><br>
                컬럼에 값 or 값2이 있는 경우만 조회해준다.<br>
                IN 대신 OR도 사용가능하다. <br>
            </p>
            </li>

            <h4><li><p>BETWEEN <br></h4>
                SELECT age <br>
                FROM 테이블명 <br>
                WHERE age BETWEEN 20 AND 30; <br><br>
                값이 지정된 범위 안에 있는지 확인 후 출력해준다.<br>
                BETWEEN 대신 AND도 사용가능하다. <br>
            </p>
            </li>

            <h4><li><p>LIMIT <br></h4>
                SELECT rowid, age <br>
                FROM 테이블명 <br>
                ORDER BY age <br>
                LIMIT 10; <br><br>
                정렬한 후 10번째 행까지만 출력<br>
                쿼리에서 반환되는 행 수를 제한해준다.<br>
            </p>
            </li>

            <h4><li><p>LIMIT <br></h4>
                SELECT rowid, age <br>
                FROM 테이블명 <br>
                ORDER BY age <br>
                LIMIT 10; <br><br>
                정렬한 후 10번째 행까지만 출력<br>
                쿼리에서 반환되는 행 수를 제한해준다.<br>
            </p>
            </li>

            <h4><li><p>OFFSET <br></h4>
                SELECT rowid, age <br>
                FROM 테이블명 <br>
                ORDER BY age <br>
                LIMIT 10 OFFSET 10; <br><br>
                정렬한 후 11번째 행부터 10개의 행을 출력한다.<br>
                
            </p>
            </li>

        </ol>
    </ul>

  <p><br>
  </p>

  <h3>참고</h3>
  <h4>VScode에서 SQL사용하기 <a href="https://stormpy.tistory.com/97">야곰야곰's S/W 공부</a></h4>
  <h4>SQLite Types <a href="https://araikuma.tistory.com/681">슬기로운 개발자 생활</a></h4>
  <h4>SQL 제약조건 <a href="https://m.blog.naver.com/regenesis90/222197289871">리제</a></h4>
</body>
</html>